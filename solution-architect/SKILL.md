---
name: solution-architect
description: 技术方案文档生成与优化工具。支持从 PRD 生成完整技术方案，或对现有技术方案进行质量评估和优化。生成内容包括：需求背景、产品目标、系统目标、系统架构、业务流程、资金流程、数据流程、数据模型、API 设计、表设计、影响面分析、任务拆分。使用场景：PRD 转技术方案、技术方案评审、文档质量优化、架构设计审查、开发任务规划。
---

# Solution Architect - 技术方案专家

专业的技术方案文档生成与优化工具，支持从 PRD 生成或对现有方案进行优化。

## 快速开始

```bash
# 从 PRD 生成完整技术方案
python3 scripts/prd-to-solution.py \
  --prd 需求文档.md \
  --output 技术方案.md \
  --type full

# 优化现有技术方案
python3 scripts/optimize-solution.py \
  --input 现有方案.md \
  --output 优化方案.md \
  --level deep

# 评估技术方案质量
python3 scripts/evaluate-solution.py \
  --input 技术方案.md \
  --output 评估报告.md
```

## 核心功能

### 📝 PRD 转技术方案

将产品需求文档转换为完整技术方案，包含：

1. **需求背景** - 业务背景、用户痛点、项目范围
2. **产品目标** - 核心目标、成功指标、优先级
3. **系统目标** - 功能目标、性能目标、可用性目标、安全目标
4. **系统架构** - 系统上下文、组件架构、技术栈
5. **业务流程** - 主流程、分支流程、异常流程
6. **资金流程** - 支付流程、退款流程、对账流程
7. **数据流程** - 数据采集、处理、存储
8. **数据模型** - 实体关系、核心实体、数据字典
9. **API 设计** - API 概览、接口详情、错误码
10. **表设计** - 表结构、索引设计、数据迁移
11. **影响面分析** - 系统影响、依赖系统、风险评估
12. **任务拆分** - 开发任务、时间估算、里程碑

### 🔧 技术方案优化

对现有技术方案进行深度优化：

**优化维度：**
- ✅ 结构完整性检查
- ✅ 内容深度评估
- ✅ 图表规范性
- ✅ 技术选型合理性
- ✅ 风险评估充分性
- ✅ 任务拆分可执行性

**优化输出：**
- 质量评分报告
- 问题清单
- 优化建议
- 优化后的完整文档

### 📊 技术方案评审

评估技术方案质量：

| 维度 | 权重 | 评估项 |
|------|------|--------|
| **完整性** | 25% | 章节覆盖、内容完整 |
| **准确性** | 20% | 技术选型、架构设计 |
| **可行性** | 20% | 任务拆分、时间估算 |
| **清晰度** | 15% | 图表质量、文档结构 |
| **风险控制** | 10% | 风险识别、缓解措施 |
| **成本控制** | 10% | 资源估算、ROI 分析 |

## 使用示例

### 示例 1: 从 PRD 生成

```bash
python3 scripts/prd-to-solution.py \
  --prd "电商购物车功能 PRD" \
  --output 购物车技术方案.md \
  --type full
```

### 示例 2: 优化现有方案

```bash
python3 scripts/optimize-solution.py \
  --input 初版技术方案.md \
  --output 优化版技术方案.md \
  --level deep \
  --report 优化报告.md
```

### 示例 3: 方案质量评估

```bash
python3 scripts/evaluate-solution.py \
  --input 技术方案.md \
  --output 评审报告.md \
  --strict
```

## 输出结构

```markdown
# 技术方案文档

## 1. 需求背景
### 1.1 业务背景
### 1.2 用户痛点
### 1.3 项目范围

## 2. 产品目标
### 2.1 核心目标
### 2.2 成功指标
### 2.3 优先级

## 3. 系统目标
### 3.1 功能目标
### 3.2 性能目标
### 3.3 可用性目标
### 3.4 安全目标

## 4. 系统架构
### 4.1 系统上下文
### 4.2 组件架构
### 4.3 技术栈

## 5. 业务流程
### 5.1 主流程
### 5.2 分支流程
### 5.3 异常流程

## 6. 资金流程
### 6.1 支付流程
### 6.2 退款流程
### 6.3 对账流程

## 7. 数据流程
### 7.1 数据采集
### 7.2 数据处理
### 7.3 数据存储

## 8. 数据模型
### 8.1 实体关系
### 8.2 核心实体
### 8.3 数据字典

## 9. API 设计
### 9.1 API 概览
### 9.2 接口详情
### 9.3 错误码

## 10. 表设计
### 10.1 表结构
### 10.2 索引设计
### 10.3 数据迁移

## 11. 影响面分析
### 11.1 系统影响
### 11.2 依赖系统
### 11.3 风险评估

## 12. 任务拆分
### 12.1 开发任务
### 12.2 时间估算
### 12.3 里程碑
```

## 优化功能详解

### 优化级别

| 级别 | 说明 | 适用场景 |
|------|------|----------|
| **light** | 轻量优化 | 文档结构微调、格式规范 |
| **standard** | 标准优化 | 内容补充、图表优化 |
| **deep** | 深度优化 | 架构重构、技术选型优化 |

### 优化检查项

**结构检查：**
- [ ] 12 个核心章节是否完整
- [ ] 章节层次是否清晰
- [ ] 目录导航是否正确

**内容检查：**
- [ ] 需求背景是否充分
- [ ] 系统目标是否 SMART
- [ ] 架构图是否规范
- [ ] API 设计是否完整
- [ ] 表设计是否合理

**质量检查：**
- [ ] 技术选型是否有对比
- [ ] 风险评估是否充分
- [ ] 任务拆分是否可执行
- [ ] 时间估算是否合理

### 优化输出

```markdown
# 优化报告

## 质量评分：75/100 → 90/100

## 发现的问题 (15 个)

### 严重问题 (2)
1. 缺少系统架构图
2. 风险评估缺失

### 主要问题 (5)
1. API 设计不完整，缺少错误码
2. 表设计缺少索引说明
3. 任务拆分粒度过粗
...

### 优化建议
1. 添加系统上下文架构图
2. 补充风险评估章节
3. 完善 API 错误码定义
...

## 优化后文档
[完整优化后的技术方案]
```

## 与其他技能配合

### 与 docs-improver 配合

```bash
# 生成技术方案
python3 solution-architect/scripts/prd-to-solution.py \
  --prd prd.md --output solution.md

# 优化文档质量
python3 docs-improver/scripts/docs-improver.py \
  --path solution.md --mode all --report quality.md
```

### 与 code-analyzer 配合

```bash
# 分析现有代码库
python3 code-analyzer/scripts/analyze.py \
  --path ./src --output code-analysis.md

# 基于代码分析生成优化方案
python3 solution-architect/scripts/optimize-solution.py \
  --input solution.md \
  --code-analysis code-analysis.md \
  --output optimized-solution.md
```

## 最佳实践

详见 [references/best-practices.md](references/best-practices.md)：
- PRD 分析技巧
- 架构设计原则
- API 设计规范
- 数据库设计最佳实践
- 任务估算方法
- 技术选型框架

## 参见

- [架构模板](assets/templates/)
- [Mermaid 图表](assets/diagrams/)
- [OpenClaw 文档](https://docs.openclaw.ai)
